# 운영체제
---
## 운영체제
---
### 커널
```
운영체제의 핵심 기능을 담당하는 부분
```
운영체제가 설치된 모든 기기에는 커널이 있다
어떤 커널을 사용하는지에 따라 여러분이 실행하고 개발하는 프로그램이 하드웨어를 이용하는 양상이 달라지고, 결과적으로 컴퓨터 전체의 성능도 달라질 수 있다

![](https://hongong.hanbit.co.kr/wp-content/uploads/2022/09/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%ED%95%B5%EC%8B%AC-%EA%B8%B0%EB%8A%A5_%EC%BB%A4%EB%84%90.png)

운영체제가 제공하는 서비스 중 커널에 포함되지 않는 서비스도 있는데, 대표적으로 사용자 인터페이스가 있다
`사용자 인터페이스`는 윈도우의 바탕화면과 같이 사용자가 컴퓨터와 상호작용할 수 있는 통로이다

운영체제가 제공하는 사용자 인터페이스의 종류에는 `그래픽 유저 인터페이스`와 `커맨드 라인 인터페이스`가 있다
그래픽 유저 인터페이스는 윈도우 바탕화면이나 스마트폰의 화면처럼 `그래픽을 기반`으로 컴퓨터와 상호작용할 수 있는 인터페이스이고, 커맨드 라인 인터페이스는 `명령어를 기반`으로 컴퓨터와 상호작용할 수 있는 인터페이스이다

이러한 사용자 인터페이스는 운영체제가 제공하는 서비스이지만, 이는 그저 컴퓨터와 상호작용하기 위한 통로일 뿐 커널에 속한 기능은 아니다

---
### 이중 모드와 시스템 호출
운영체제는 사용자가 실행하는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 방지하여 자원을 보호한다
만약 응용 프로그램이 CPU, 메모리, 하드디스크 등에 마음대로 접근하고 조작할 수 있다면 `자원이 무질서하게 관리`될 것이고, 응용 프로그램이 조금만 실수해도 컴퓨터 전체에 큰 악영향을 끼칠 수 있다

그래서 운영체제는 응용 프로그램들이 자원에 접근하려고 할 때 오직 자신을 통해서만 접근하도록하여 자원을 보호한다
응용 프로그램이 자원에 접근하기 위해서는 운영체제에 도움을 요청해야한다
이때 운영체제에 도움을 요청한다는 말은 `운영체제 코드를 실행하려고 한다`는 말과 같다
응용 프로그램의 요청을 받은 운영체제는 응용 프로그램 대신 자원에 접근하여 요청한 작업을 수행한다

![](https://hongong.hanbit.co.kr/wp-content/uploads/2022/09/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%9D%B4%EC%A4%91%EB%AA%A8%EB%93%9C.png)

이러한 운영체제의 역할은 이중모드로써 구현된다
`이중모드`란 CPU가 명령어를 실행하는 모드를 크게 사용자 모드와 커널 모드로 구분하는 방식이다
CPU는 명령어를 사용자모드로써 실행할 수 있고, 커널 모드로써 실행할 수 있다

`사용자 모드`는 운영체제 서비스를 제공받을 수 없는 실행 모드이다
즉, 커널 영역의 코드를 실행할 수 있는 모드이다
`커널 모드`는 운영체제 서비스를 제공받을 수 있는 실행 모드이다
즉, 커널 영역의 코드를 실행할 수 있는 모드이다

사용자모드로 실행되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받으려면 운영체제에 요청을 보내 커널 모드로 전환되어야 한다
이때 운영체제 서비스를 제공받기 위한 요청을 `시스템 호출(시스템 콜)`이라고 한다
사용자 모드로 실행되는 프로그램은 시스템 호출을 통해 커널 모드로 전환하여 운영체제 서비스를 제공받을 수 있다

![](https://hongong.hanbit.co.kr/wp-content/uploads/2022/09/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EC%8B%9C%EC%8A%A4%ED%85%9C-%ED%98%B8%EC%B6%9C.png)

시스템 호출은 일종의 인터럽트이다 
정확히는 소프트웨어적인 인터럽트이다
인터럽트는 입출력장치에 의해 발생하기도 하지만 인터럽트를 발생시키는 특정 명령어에의해 발생하기도 하는데 이를 `소프트웨어 인터럽트`라고 한다