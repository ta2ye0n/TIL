# Spring boot
---
## Redis
```
Remote Dictionary Server

Key-Value 구조의 비정형 데이터를 저장하고 관리 하기 위한 DBMS
```
`인메모리` 방식의 데이터 저장소로, 일반적인 DB에 비해 속도가 빠르다
> 인메모리 데이터베이스 : 디스크 스토리지와 같은 기존 위치가 아닌 컴퓨터 메모리에 보관되는 데이터베이스
---
### 특징
- `인메모리` 사용   
인메모리 데이터 셋을 사용하여 최고의 성능을 냄

- String, Set, Sorted Set, Hash, Lis와 같이 `다양한 데이터 타입`을 지원 한다
- `Single Thread` 구조이기 때문에 처리 시간이 긴 요청이 들어올 경우 해당 요청을 처리 할 때 까지 다른 요청도 응답을 받을 수 없다
- Master Redis 서버의 데이터를 Slave Redis 서버에 `복제`할 수 있다
- 메시지 큐 용도로 사용할 수 있다

---
### 사용하는 경우
**세션 클러스터링**   
```
한 서버에서 세션을 생성할 경우 다른 모든 서버에 방금 생성한 세션 정보를 보내 동기화 하는 방식
```
세션이 생성될 때마다 다른 서버에 보내줘야 함으로 `메모리에 큰 부담`이 간다

자칫하면 서버 부하를 줄이려다 오히려 늘어나는 꼴이 될 수도 있다

**Sticky Session**   
```
로드밸런서에서 사용자의 세션이 생성됐던 서버에 해당 사용자의 요청을 계속 보내주는 방식
```
로드밸런서를 괴롭히는 방식
또한, 한 서버에서 로그인 처리가 많이 되었다면 해당 서버로 부하가 집중된다
> 로드밸런서 : 서버에 가해지는 부하(=로드)를 분산(=밸런싱) 해주는 장치 또는 기술을 통칭

**Redis 세션 클러스터링**   
```
Redis 서버를 따로 두어 Redis 서버에 모든 세션 데이터를 저장하는 방식
```
서버는 Redis 서버에만 세션 데이터를 넣으면 되니 부담이 줄고, 로드밸런서도 사용자를 일일이 기억할 필요가 없어 부담이 줄어든다

이런식으로 공유 데이터를 `저장`하기 위해 사용할 수 있다

---