# 컴퓨터구조
---
## 명령어
```
명령어는 연산 코드와 오퍼랜드로 구성되어 있다
```
---
### 연산 코드와 오퍼랜드
```
연산 코드 : 명령어가 수행할 연산
오퍼랜드 : 연산에 사용할 데이터 또는 연산에 사용할 데이터가 지정된 위치
```
연산 코드는 `연산자`, 오퍼랜드는 `피연산자라고도 부른다

![](https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbrx_MWFZPAt-Pnrch8QRrHaV69o7E170Qug&s)   
그림에서 색칠된 부분, 즉 연산 코드가 담기는 영역을 `연산 코드 필드`라고 부른다
색칠되지 않은 부분, 즉 오퍼랜드가 담기는 영역을 `오퍼랜드 필드`라고 한다

기계어와 어셈블리어 또한 명령어이기 때문에 연산 코드와 오퍼랜드로 구성되어 있다

---
### 오퍼랜드
오퍼랜드는 `연산에 사용할 데이터` 또는 `연산에 사용할 데이터가 저장된 위치`를 의미한다
그래서 오퍼랜드 필드에는 숫자와 문자 등을 나타내는 `데이터 또는 메모리나 레지스터 주소`가 올 수 있다
다만 오퍼랜드 필드에는 숫자나 문자와 같이 연산에 사용할 데이터를 직접 명시하기보다는, 많은 경우 연산에 사용할 데이터가 저장된 위치, 즉 메모리 주소나 레지스터 이름이 담긴다
그래서 오퍼랜드 필드를 `주소 필드`라고 한다

오퍼랜드는 명령어 안에 하나도 없을 수 있고, 한개만 있을 수도 있고, 두 개 또는 세 개 등 여러개가 있을 수도 있다
```
mov eax, 0   ---> 오퍼랜드가 두 개인 경우
pop rbp      ---> 오퍼랜드가 한 개인 경우
ret          ---> 오퍼랜드가 없는 경우
```
- `0-주소 명령어` : 오퍼랜드가 하나도 없는 명령어
- `1-주소 명령어` : 오퍼랜드가 하나인 명령어
- `2-주소 명령어` : 오퍼랜드가 두 개인 명령어
- `3-주소 명령어` : 오퍼랜드가 세 개인 명령어

![](https://blog.kakaocdn.net/dn/bE7cjj/btsnEnsCUkI/4QloLl8jVEWEbT2JmMTxnK/img.png)

---
### 연산 코드
연산 코드는 `명령어가 수행할 연산`을 의미한다

연산 코드 종류는 매우 많지만, 기본적인 연산 코드 유형은 크게 네 가지로 나눌 수 있다
```
데이터 전송
산술/논리 연산
제어 흐름 변경
입출력 제어
```

1. 데이터 전송
    - MOVE : 데이터를 옮겨라
    - STORE : 메모리에 저장하라
    - LOAD(FETCH) : 메모리에서 CPU로 데이터를 가져와라
    - PUSH : 스택에 데이터를 저장하라
    - POP : 스택의 최상단 데이터를 가져와라

2. 산술 / 논리 연산
    - ADD / SUBTRACT / MULTIPLY / DIVIDE : 덧셈 / 뺄셈 / 곱셈/ 나눗셈을 수행하라
    - INCREMENT / DECREMENT : 오퍼랜드에 1을 더하라 / 오퍼랜드에 1을 빼라
    - AND / OR / NOT: AND / OR / NOT 연산을 수행하라
    - COMPARE : 두 개의 숫자 또는 TRUE / FALSE 값을 비교하라

3. 제어 흐름 변경
    - JUMP : 특정 주소로 실행 순서를 옮겨라
    - CONDITIONAL JUMP : 조건에 부합할 때 특정 주소로 실행 순서를 옮겨라
    - HALT : 프로그램의 실행을 멈춰라
    - CALL : 되돌아올 주소를 저장한 채 특정 주소로 실행 순서를 옮겨라
    - RETURN : CALL을 호출할 때 저장했던 주소로 돌아가라

4. 입출력 제어
    - READ (INPUT) : 특정 입출력 장치로부터 데이터를 읽어라
    - WRITE (OUTPUT) : 특정 입출력 장치로 데이터를 써라
    - START IO : 입출력 장치를 시작하라
    - TEST IO : 입출력 장치의 상태를 확인하라

> 명령어의 종류와 생김새는 CPU마다 다르기 때문에 연산 코드와 종류와 생김새 또한 CPU마다 다르다
위의 연산 코드들은 대부분의 CPU가 공통으로 이해하는 대표적인 연산 코드의 종류 정도로만 이해해도 무방하다