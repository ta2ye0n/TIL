# 컴퓨터 구조
---
## CPU 성능 향상 기법
---
### 빠른 CPU를 위한 설계 기법
---
### 클럭
컴퓨터 부품들은 `클럭 신호`에 맞춰 일사불란하게 움직인다

클럭신호가 빠르게 반복되면 CPU를 비롯한 컴퓨터 부품들은 그만큼 빠른 박자에 맞춰 움직이게 된다
즉, 클럭 속도가 높아지면 CPU는 명령어 사이클을 더 빠르게 반복할 것이고, 다른 부품들도 더 빠르게 작동하게 될 것이다

실제 클럭 속다가 높은 CPU는 일반적으로 성능이 좋다
그래서 클럭 속도는 CPU 속도 단위로 간주되기도 한다

`클럭 속도`는 헤르츠(Hz) 단위로 측정한다
이는 1초에 클럭이 몇 번 반복되는지를 나타낸다
클럭 속도가 높은 CPU는 빠르게 동작한다

CPU는 계속 일정한 클럭 속도를 유지하기보다는 고성능을 요하는 수간에는 순각적으로 클럭 속도를 높이고, 그렇지 않을 때는 유연하게 클럭 속도를 낮추기도 한다
최대 클럭 속도를 강제로 더 끌어올일 수도 있는데, 이런 기법을 `오버클럭킹(overclocking)`이라고 한다

하지만 클럭속도를 무지막지하게 높인다고 CPU가 빨라지지 않는다
그래픽이 많이 요구되는 작업과 같이 CPU에 무리가 가는 작업을 장시간 하면 컴퓨터가 뜨겁게 달아오르게 된다
이것처럼 클럭 속도를 무작정 높이면 이러한 발열 문제가 더 심각해진다

이처럼 클럭 속도를 높이는 것은 분면 `CPU를 빠르게` 만들지만, 클럭 속도만으로 `CPU의 성능을 올리는 것에는 한계`가 있다

---
### 코어와 멀티코어
```
CPU 내에서 명령어를 실행하는 부품으로 여러개 있을 수 있다
```
오늘날의 CPU는 단순히 `명령어를 실행하는 부품`에서 `명령어를 실행하는 부품을 여러 개 포함하는 부품`으로 명칭의 범위가 확장되었다
CPU에서 8코어는 명령어를 실행하는 부품을 여덟 개 포함하고 있다고 보면 된다

코어를 여러 개 포함하고 있는 CPU를 `멀티코어 CPU` 또는 `멀티코어 프로세서`라고 부른다

CPU 종류는 CPU안에 코어가 몇 개 포함되어 있는지에 따라 나뉜다

|코어 수|프로세서 명칭|
|:-----:|----|
|1|싱글코어(single-core)|
|2|듀얼코어(dual-core)|
|3|트리플코어(triple-core)|
|4|쿼드코어(quad-core)|
|6|헥사코어(hexa-core)|
|8|옥타코어(octa-core)|
|10|데카코어(deca-core)|
|12|도데카코어(dodeca-core)

무작정 코어의 수를 높인다고 연산 처리 속도가 높아지지 않는다
코어마다 처리할 연산이 적절히 분배되지 않는다면 코어 수에 비례하여 연산 속도가 증가하지 않는다
또한 처리하고자 하는 작업량보다 코어 수가 지나치게 많아도 성능에는 크게 영향이 없다

중요한 것은 코어마다 처리할 명령어들을 얼마나 적절히 분배하느냐이고 그에 따라서 연산 속도는 크게 달라진다

---
### 스레드와 멀티스레드
`스레드`의  사전적 의미는 `실행의 흐름 단위`이다
CPU에서 사용되는 스레드와 프로그래밍에서 사용되는 스레드는 용례가 다르기 때문에 정의를 활자 그대로 받아들이지 말고 더욱 엄밀히 이해해야 한다

스레드에서 CPU에서 사용되는 `하드웨어적 스레드`가 있고, 프로그램에서 사용되는 `소프트웨어적 스레드`가 있다

#### 하드웨어적 스레드
```
하나의 코어가 동시에 처리하는 명령어 단위
```
여러 스레드를 지원하는 CPU는 하나의 코어로도 여러개의 명령어를 동시에 실행할 수 있다
이처럼 하나의 코어로 여러 명령어를 동시에 처리하는 CPU를 `멀티스레드 프로세서` 또는 `멀티스레드 CPU`라고 한다

#### 소프트웨어적 스레드
```
하나의 프로그램에서 독립적으로 실행되는 단위
```
프로그래밍 언어나 운영체제를 학습할 때 접하는 스레드는 보통 소프트웨어적으로 정의된 스레드를 의미한다

한 번에 하나씩 명령어를 처리하는 1코어 1스레드 CPU도 소프트웨어적 스레드를 수십개 실행할 수 있다
1코어 1스레드 CPU로도 프로그램의 여러 부분을 동시에 실행할 수 있다

#### 멀티스레드 프로세서
```
하나의 코어로 여러 명령어를 동시에 처리하는 CPU
```
실제로 설계하는 일은 매우 복잡하지만, 가장 큰 핵심은 레지스터이다
하나의 코어로 여러 명령어를 동시에 처리하도록 만들려면 명령어를 처리하기 위해 꼭 필요한 레지스터를 여러개 가지고 있으면 된단